/*! Auto-TOC script functions for HM Premium Pack Version 2.41
Copyright (c) 2008-2014 by Tim Green. 
All rights reserved. */
function truncate(d,a){var c,b;if(a==0){return d;}if((a>0)&&(a<=20)){a=20;}c=d.split("");if(c.length>a){for(b=c.length-1;b>-1;--b){if(b>a){c.length=b;}else{if(" "===c[b]){c.length=b;break;}}}c.push("...");}return c.join("");}function trim(a){return a.replace(/^\s+|\s+$/g,"");}function htmlFix(a){heading=a.replace(/\&/g,"&amp;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");return a;}function autoTOC(){var b=new Array();var l=new Array();var d=hmatocvars.atoc_tip;var c=hmatocvars.atoc_minHeaders;var q=hmatocvars.atoc_btntip_on;var h=hmatocvars.atoc_toptip;var f=hmatocvars.atoc_top;var a=hmatocvars.atoc_linklimit;var p,r,j,g,s,t,o,m,e,k=false;$("img#hmAtocLink").attr({src:"contents.png",title:q,alt:q});$("div#atocIcon span").removeClass("navOff").addClass("navOn");$("div#atocIcon").css("display","block");navIconInit("img#hmAtocLink");$("span[class*='_atoc_']").parent("td:not(:has(span[class='temp_atoc_']))").each(function(){var i=$(this).html();i='<span class="temp_atoc_">'+i+"</span>";$(this).html(i);});$("span[class*='_atocs_']").parent("td:not(:has(span[class='temp_atocs_']))").each(function(){var i=$(this).html();i='<span class="temp_atocs_">'+i+"</span>";$(this).html(i);});b=$("[class*='_atoc_'],[class*='_atocs_']").filter("[class^='p_']").add("span[class='temp_atoc_'],span[class='temp_atocs_']");if(b.length>=c){for(var n=0;n<b.length;n++){p=b[n];r=$(b[n]).text();r=trim(r);r=htmlFix(r);j=$(p).attr("class");g=(j.indexOf("_atocs_")!=-1);if(r.length==1){r=r.replace(/\xa0/,"");}if(r!=""){k=true;t="autoTOC"+n;s=r.replace(/\"/g,"'");r=truncate(r,a);p.innerHTML='<a id="'+t+'"></a>'+p.innerHTML;if(!g){o='<li class="autoTOC" data="atoc" id="src_'+t+'" title="'+d+s+'"><p class="autoTOC" unselectable="on"><img src="bullet_go.png" class="menuicon" alt="'+d+s+'" border="0" />&nbsp;'+r+"</p></li>";}else{o='<li class="autoTOC" data="atoc" id="src_'+t+'" title="'+d+s+'"><p class="autoTOC" unselectable="on" style="font-size: 90%; font-weight: normal;">&nbsp;&nbsp;<img src="bullet_go.png" class="menuicon" alt="'+d+s+'" border="0" />&nbsp;'+r+"</p></li>";}l.push(o);}}}else{return;}if((l[0])&&(l[0]!="")){m="";e=document.getElementById("autoTocWrapper");for(var n=0;n<l.length;n++){m=m+l[n];}m='<li id="toplink" title="'+h+'"><p class="autoTOC" unselectable="on" data="atoc"><img src="application_get.png" class="menuicon" alt="'+h+'" border="0" />&nbsp;'+f+"</p></li>"+m;m='<div id="autoTocMiddle" class="tmenumiddle"><div id="autoTocInner" class="tmenuinner"><ul>'+m+"</ul></div></div>";e.innerHTML=m;}$.fn.tagName=function(){return this.get(0).tagName;};initMenu("atocIcon","autoTocWrapper");$("li.autoTOC[data='atoc']").click(function(){var u=SearchCheck();var i=$(this).attr("id");var v=i.replace(/src_/,"");var w=$("a[id='"+v+"']");if((HMToggles.length!=null)&&(!u)){HMToggleExpandAll(false);}aniScroll(w,"menu",false,false);return false;});$("#toplink").click(function(){var u=SearchCheck();if(HMToggles.length!=null&&!u){HMToggleExpandAll(false);}var i="div#idcontent";$(i).scrollTo(0,300);return false;});}var atocLoaded=true;